<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Signal Toolkit &mdash; Boolean Search Builder</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div class="applet-shell">
      <header class="applet-header">
        <div>
          <h1>Boolean Search Builder</h1>
          <p class="tagline">Craft precision queries, launch targeted reconnaissance, and let the LLM draft variations for you.</p>
        </div>
        <div class="header-actions">
          <button class="ghost-button" id="copyQuery" type="button" aria-label="Copy boolean query">Copy query</button>
          <button class="primary-button" id="launchSearch" type="button">Launch search</button>
        </div>
      </header>

      <section class="applet-body">
        <section class="builder-panel" aria-label="Boolean query designer">
          <h2>Manual controls</h2>
          <form id="builderForm" autocomplete="off">
            <div class="field-group">
              <label for="mustInclude">Must include</label>
              <textarea
                id="mustInclude"
                name="mustInclude"
                placeholder="core terms on separate lines"
                rows="3"
              ></textarea>
              <p class="hint">Each line becomes a required term. Multi-word entries are quoted automatically.</p>
            </div>

            <div class="field-group">
              <label for="exactPhrases">Exact phrases</label>
              <textarea
                id="exactPhrases"
                name="exactPhrases"
                placeholder="phrases to wrap in quotes"
                rows="2"
              ></textarea>
            </div>

            <div class="field-group">
              <label for="anyTerms">Any of these (OR group)</label>
              <textarea
                id="anyTerms"
                name="anyTerms"
                placeholder="variants, synonyms, acronyms"
                rows="3"
              ></textarea>
            </div>

            <div class="field-group">
              <label for="excludeTerms">Exclude</label>
              <textarea
                id="excludeTerms"
                name="excludeTerms"
                placeholder="competitors, unwanted contexts"
                rows="2"
              ></textarea>
            </div>

            <div class="field-grid">
              <div class="field-group">
                <label for="sitePreset">Focus</label>
                <select id="sitePreset" name="sitePreset">
                  <option value="none">General search</option>
                  <option value="linkedin_people">LinkedIn people</option>
                  <option value="linkedin_company">LinkedIn companies</option>
                  <option value="github">GitHub repositories</option>
                  <option value="stackoverflow">Stack Overflow</option>
                  <option value="behance">Behance portfolios</option>
                  <option value="custom">Custom domain&hellip;</option>
                </select>
              </div>
              <div class="field-group" data-custom-site hidden>
                <label for="customSite">Custom domain</label>
                <input id="customSite" name="customSite" placeholder="example.com" />
              </div>
              <div class="field-group">
                <label for="fileType">File type</label>
                <input id="fileType" name="fileType" placeholder="pdf, docx&hellip;" />
              </div>
              <div class="field-group">
                <label for="searchEngine">Engine</label>
                <select id="searchEngine" name="searchEngine">
                  <option value="google">Google</option>
                  <option value="bing">Bing</option>
                  <option value="duckduckgo">DuckDuckGo</option>
                </select>
              </div>
            </div>
          </form>
        </section>

        <aside class="assistant-panel" aria-label="LLM assistant">
          <header class="panel-header">
            <h2>LLM assistant</h2>
            <button class="ghost-button" id="toggleSettings" type="button" aria-expanded="false">API settings</button>
          </header>
          <div class="settings-panel" id="settingsPanel" hidden>
            <div class="field-group">
              <label for="apiKey">API key</label>
              <input id="apiKey" name="apiKey" type="password" placeholder="sk-..." autocomplete="off" />
              <p class="hint">Stored locally in your browser.</p>
            </div>
            <div class="field-grid">
              <div class="field-group">
                <label for="apiBase">API base</label>
                <input id="apiBase" name="apiBase" type="url" value="https://api.openai.com/v1" />
              </div>
              <div class="field-group">
                <label for="model">Model</label>
                <input id="model" name="model" value="gpt-4o-mini" />
              </div>
              <div class="field-group">
                <label for="temperature">Temperature</label>
                <input id="temperature" name="temperature" type="number" step="0.1" min="0" max="2" value="0.4" />
              </div>
            </div>
            <div class="settings-actions">
              <button class="ghost-button" id="resetSettings" type="button">Reset</button>
              <button class="primary-button" id="saveSettings" type="button">Save</button>
            </div>
          </div>

          <div class="assistant-body">
            <label class="field-group" for="assistantPrompt">
              <span>Prompt</span>
              <textarea
                id="assistantPrompt"
                placeholder="Describe the persona, skills, and filters you need."
                rows="6"
              ></textarea>
            </label>
            <div class="assistant-actions">
              <button class="ghost-button" id="clearPrompt" type="button">Clear</button>
              <button class="primary-button" id="runAssistant" type="button">Generate suggestions</button>
            </div>
            <div class="assistant-status" id="assistantStatus" role="status" aria-live="polite"></div>
            <div class="suggestion-list" id="suggestionList" aria-live="polite"></div>
          </div>
        </aside>
      </section>

      <section class="output-panel" aria-label="Query preview">
        <h2>Compiled query</h2>
        <pre id="queryPreview" class="query-preview" tabindex="0"></pre>
        <p class="hint" id="queryHints">Start entering inputs to generate a query.</p>
      </section>
    </div>

    <script src="script.js" type="module"></script>
  </body>
</html>
